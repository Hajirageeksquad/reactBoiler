(this.webpackJsonplearning=this.webpackJsonplearning||[]).push([[0],{26:function(e,t,a){e.exports=a(43)},31:function(e,t,a){},32:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),o=a.n(r),c=(a(31),a(32),a(1)),s=a(5),i=a(2),u=a(23),m=(a(33),a(35),u.initializeApp({apiKey:"AIzaSyBaSMd1-mK6L2PkGB8s0IO2y0Mw4-jpNIk",authDomain:"chat-app-with-firestore-aac6c.firebaseapp.com",databaseURL:"https://chat-app-with-firestore-aac6c.firebaseio.com",projectId:"chat-app-with-firestore-aac6c",storageBucket:"chat-app-with-firestore-aac6c.appspot.com",messagingSenderId:"160618496536",appId:"1:160618496536:web:8baa56fc32879652ce796d"})),d=a(6),p=function(e,t){switch(t.type){case"GET_DATA":return Object(s.a)({},e,{data:t.payload});case"SET_USER":return Object(s.a)({},e,{loggedIn:t.payload});default:return e}},b=function(e){var t=localStorage.getItem("logged");t&&e({type:"SET_USER",payload:t})},f="https://jsonplaceholder.typicode.com/posts",h=function(e){!function(e){fetch(f).then((function(e){return e.json()})).then((function(t){return e({type:"GET_DATA",payload:t})}))}(e)},g=function(e,t,a){!function(e,t,a){fetch("".concat(f,"/").concat(e),{method:"DELETE"}).then((function(){return a({type:"GET_DATA",payload:t})}))}(e,t,a)},E={userDetail:"",loader:!0,data:[]},w=Object(n.createContext)(E),v=function(e){var t=e.children,a=Object(n.useReducer)(p,E),r=Object(i.a)(a,2),o=r[0],c=r[1];return l.a.createElement(w.Provider,{value:{state:o,actionsetUserDetail:b,delDataAction:g,getDataAction:h,dispatch:c,initialState:E}},t)},y=function(e){var t=e.history,a=Object(n.useState)(null),r=Object(i.a)(a,2),o=r[0],c=r[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),b=p[0],f=p[1],h=Object(n.useContext)(w).state;console.log("userDetail",h);return l.a.createElement("div",{className:"bg-gray-200"},l.a.createElement("div",{className:"py-20"},l.a.createElement("div",{className:"mt-8"},l.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign In"),l.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},l.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),null===o?f("email and password are required fields"):!o||o.email&&o.password?m.auth().signInWithEmailAndPassword(o.email,o.password).then((function(){m.auth().onAuthStateChanged((function(){localStorage.setItem("logged","true"),t.push("/")}))})).catch((function(e){f(e.message)})):(o.email||f("email is required fields"),o.password||f("password is required fields"))}(e)}},l.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),l.a.createElement("input",{type:"email",className:"my-1 p-1 w-full outline-none border",name:"userEmail",placeholder:"E.g: hajira@gmail.com",value:o&&o.email?o.email:"",onChange:function(e){f("");var t=Object(s.a)({},o);t.email=e.target.value,c(t)}}),l.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),l.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",value:o&&o.password?o.password:"",placeholder:"Your Password",id:"userPassword",onChange:function(e){f("");var t=Object(s.a)({},o);t.password=e.target.value,c(t)}}),l.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},b||" "),l.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",type:"submit"},"Sign in")),l.a.createElement("p",{className:"text-center my-3"},"Don't have an account "," ",l.a.createElement(d.b,{to:"/sign-up",className:"text-blue-500 hover:text-blue-600"},"Sign up here"))))))},x=function(e){var t=e.history,a=Object(n.useState)(null),r=Object(i.a)(a,2),o=r[0],c=r[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),b=p[0],f=p[1];return l.a.createElement("div",{className:"mt-8"},l.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign Up"),l.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},l.a.createElement("form",{className:" ",onSubmit:function(e){e.preventDefault(),null===o?f("name,email and password  are required fields"):!o||o.name&&o.email&&o.password?(f(""),m.auth().createUserWithEmailAndPassword(o.email,o.password).then((function(e){var a=e&&e.user&&e.user.uid,n={fullName:o.name,email:o.email,uid:a};m.firestore().collection("users").doc(a||"").set(n),t.push("/")})).catch((function(e){f(e.message)}))):(o.name||f("name is required fields"),o.email||f("email is required fields"),o.password||f("password is required fields"))}},l.a.createElement("label",{htmlFor:"displayName",className:"block"},"Display Name:"),l.a.createElement("input",{type:"text",className:"my-1 p-1 w-full outline-none border ",name:"displayName",placeholder:"E.g: Username",value:null===o||void 0===o?void 0:o.name,onChange:function(e){f("");var t=Object(s.a)({},o);t.name=e.target.value,c(t)}}),l.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),l.a.createElement("input",{type:"email",className:"my-1 p-1 w-full border outline-none",name:"userEmail",placeholder:"E.g: test@gmail.com",id:"userEmail",value:null===o||void 0===o?void 0:o.email,onChange:function(e){f("");var t=Object(s.a)({},o);t.email=e.target.value,c(t)}}),l.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),l.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",placeholder:"Your Password",id:"userPassword",value:null===o||void 0===o?void 0:o.password,onChange:function(e){f("");var t=Object(s.a)({},o);t.password=e.target.value,c(t)}}),l.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},b||" "),l.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white ",type:"submit"},"Sign up")),l.a.createElement("p",{className:"text-center my-3"},"I have  account?"," ",l.a.createElement(d.b,{to:"/",className:"text-blue-500 hover:text-blue-600"},"Login"))))},N=a(25),j=function(e){var t=e.history,a=Object(n.useContext)(w),r=a.state,o=a.getDataAction,c=a.delDataAction,s=a.dispatch,u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],b=d[1],h=Object(n.useState)(),g=Object(i.a)(h,2),E=g[0],v=g[1],y=Object(n.useState)([]),x=Object(i.a)(y,2),j=x[0],O=x[1],S=Object(n.useState)(""),A=Object(i.a)(S,2),C=A[0],D=A[1];return l.a.createElement("div",{className:""},l.a.createElement("div",{className:"py-5"},l.a.createElement("div",{className:"mt-8"},p&&l.a.createElement("div",{className:"flex justify-between m-4"},l.a.createElement("label",{className:" text-base mb-2 flex  font-bold w-1/4"},"Edit title:"),l.a.createElement("input",{type:"text",className:"my-1 p-1  outline-none border w-1/4",name:"title",placeholder:"title",value:C||"",onChange:function(e){D(e.target.value)}}),l.a.createElement("button",{className:" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4",onClick:function(){var e=Object(N.a)(j);e.filter((function(e){return e.id===E}))[0].title=C,function(e,t,a){fetch("".concat(f,"/").concat(e),{method:"PATCH",body:JSON.stringify({title:"test"}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("json",e),a({type:"GET_DATA",payload:t})}))}(E,e,s)}},"Update")),l.a.createElement("button",{className:"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(){m.auth().signOut().then((function(){t.push("/login")}))}},"Logout"),l.a.createElement("button",{className:"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(){return o(s)}},"getData"),r.data.map((function(e,t){return l.a.createElement("div",{key:t,className:"flex justify-between m-4"},l.a.createElement("p",{key:t,className:"text-base mb-2 flex  font-bold w-1/4"},e.id," ",e.title),l.a.createElement("button",{className:" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4",onClick:function(){var t=r.data.filter((function(t){return t.id!==e.id}));c(e.id,t,s)}},"del"),l.a.createElement("button",{className:" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4",onClick:function(){D(""),b(!0),v(e.id),O(r.data)}},"edit record"))})))))},O=function(e){var t=e.history,a=Object(n.useContext)(w).state;return Object(n.useEffect)((function(){m.auth().onAuthStateChanged((function(e){e&&null!==e.uid?t.push("/"):(a.loader=!1,t.push("/login"))}))}),[m]),l.a.createElement("div",null,a.loader?l.a.createElement("div",null,"loader..."):l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/",exact:!0,component:j})))},S=Object(c.f)((function(){return l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/",exact:!0,component:O}),l.a.createElement(c.a,{path:"/login",component:y}),l.a.createElement(c.a,{path:"/signup",component:x}))}));var A=function(){return l.a.createElement(v,null,l.a.createElement(d.a,null,l.a.createElement(S,null)))};o.a.render(l.a.createElement(A,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.2da6d77b.chunk.js.map